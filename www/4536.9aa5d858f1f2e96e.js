"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4536],{4536:(nt,b,d)=>{d.r(b),d.d(b,{SendPage:()=>j});var g=d(5861),f=d(6814),h=d(95),p=d(6466),a=d(8606),C=d(6662),t=d(6689),P=d(1725),l=d(4622),x=d(2726),T=d(1273);let y=(()=>{class i{constructor(e,n){this.toastCtrl=e,this.alertController=n,this.server="pin.api.veluxpay.com"}showB(){var e=this;return(0,g.Z)(function*(){const n=yield T.u.get({key:"isBiometricP"});e.bioSe=!(!n||"true"!==n.value)})()}fetchPin(){var e=this;return(0,g.Z)(function*(){try{const n=localStorage.getItem("userData");n&&(e.UserData=JSON.parse(n)),console.log("User Data Fetched successfully",e.UserData),e.fetchInfo()}catch(n){console.error("Error fetching PIN:",n)}})()}fetchInfo(){var e=this;return(0,g.Z)(function*(){try{const n=e.UserData?.loginData?.email,o=e.UserData?.loginData?.resetotp;n&&o&&(yield e.saveCredentials({email:n,password:o}))}catch(n){console.error("Error fetching user info:",n)}})()}saveCredentials(e){var n=this;return(0,g.Z)(function*(){try{if(!(yield l.Hc.isAvailable()).isAvailable)return;yield l.Hc.setCredentials({username:e.email,password:e.password,server:n.server}),yield T.u.set({key:"isBiometricP",value:"true"}),n.showToast("Login Successful")}catch(o){console.error("Error saving credentials:",o)}})()}initiateTransfer(){var e=this;return(0,g.Z)(function*(){try{const n=yield l.Hc.isAvailable({useFallback:!0});if(!n.isAvailable)return;let o;o=n.biometryType?n.biometryType:"android"===x.dV.getPlatform()?l.dz.FINGERPRINT:l.dz.TOUCH_ID;const r=e.getAuthenticationPrompt(o);if(!(yield l.Hc.verifyIdentity({reason:"Authentication",title:"Log in",...r,useFallback:!0,maxAttempts:3}).then(()=>!0).catch(_=>(console.log(_),!1)))){const _=e.getErrorMessage(o);return void e.presentAlert(_)}e.getCredentials()}catch(n){console.log(n)}})()}getAuthenticationPrompt(e){switch(e){case l.dz.TOUCH_ID:return{subtitle:"Touch ID",description:"Complete your transaction using your Touch ID"};case l.dz.FACE_ID:return{subtitle:"Face ID",description:"Authorise your transaction using your Face ID"};case l.dz.FINGERPRINT:return{subtitle:"Fingerprint",description:"Authorise your transaction using your Fingerprint"};case l.dz.FACE_AUTHENTICATION:return{subtitle:"Face Authentication",description:"Authorise your transaction using Face Authentication"};case l.dz.IRIS_AUTHENTICATION:return{subtitle:"Iris Authentication",description:"Authorise your transaction using Iris Authentication"};default:return{subtitle:"Biometric",description:"Authorise your transaction using biometric authentication"}}}getErrorMessage(e){switch(e){case l.dz.TOUCH_ID:return"Touch ID authentication failed or not set up. Please try again or use another authentication method.";case l.dz.FACE_ID:return"Face ID authentication failed or not set up. Please try again or use another authentication method.";case l.dz.FINGERPRINT:return"Fingerprint authentication failed or not set up. Please try again or use another authentication method.";case l.dz.FACE_AUTHENTICATION:return"Face Authentication failed or not set up. Please try again or use another authentication method.";case l.dz.IRIS_AUTHENTICATION:return"Iris Authentication failed or not set up. Please try again or use another authentication method.";default:return"Biometric authentication failed. Please try again or use another authentication method."}}getCredentials(){var e=this;return(0,g.Z)(function*(){try{const n=yield l.Hc.getCredentials({server:e.server});console.log(n),e.pin=n.password,e.checkPinFunction&&(e.checkPinFunction(e.pin),e.showToast(`Authorised! Pin: ${n.password}`)),e.presentAlert(n.password)}catch(n){console.error("Error fetching credentials:",n)}})()}setCheckPinFunction(e){this.checkPinFunction=e}showToast(e){var n=this;return(0,g.Z)(function*(){yield(yield n.toastCtrl.create({message:e,duration:2e3,color:"success"})).present()})()}presentAlert(e){var n=this;return(0,g.Z)(function*(){yield(yield n.alertController.create({header:"Authentication Error",message:e,buttons:["OK"]})).present()})()}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(a.yF),t.LFG(a.Br))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var v=d(9140),M=d(1517),S=d(7911);const Z=["selectedTagText"];function O(i,c){if(1&i&&(t.TgZ(0,"ion-text",23),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("Balance \u20a6",e.formattedPrice,"")}}function k(i,c){1&i&&(t.TgZ(0,"ion-text",23),t._uU(1,"Balance \u20a60"),t.qZA())}function A(i,c){if(1&i&&t._UZ(0,"ion-img",24),2&i){const e=t.oxw();t.Q6J("src","https://api.veluxpay.com/"+e.selectedTag.image)}}function I(i,c){1&i&&t._UZ(0,"ion-img",25)}function w(i,c){1&i&&t._UZ(0,"ion-icon",26)}function N(i,c){1&i&&(t.TgZ(0,"ion-text"),t._uU(1,"Add receiver"),t.qZA())}function U(i,c){if(1&i&&(t.TgZ(0,"ion-text"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("",e.selectedTag.full_name," ")}}function J(i,c){1&i&&t._UZ(0,"br")}function q(i,c){if(1&i&&(t.TgZ(0,"ion-note"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("@",e.selectedTag.user_tag,"")}}function F(i,c){if(1&i&&t._UZ(0,"ion-img",24),2&i){const e=t.oxw(2).$implicit;t.Q6J("src","https://api.veluxpay.com/"+(null==e?null:e.image))}}function D(i,c){1&i&&t._UZ(0,"ion-img",25)}function B(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.onTagSelect(o))}),t.TgZ(1,"ion-avatar",31),t.YNc(2,F,1,1,"ion-img",8),t.YNc(3,D,1,0,"ion-img",9),t.qZA(),t.TgZ(4,"ion-label")(5,"h2"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8),t.qZA()()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf","0"!==(null==e?null:e.image)&&null!=(null==e?null:e.image)&&""!==(null==e?null:e.image)),t.xp6(1),t.Q6J("ngIf","0"===(null==e?null:e.image)||null==(null==e?null:e.image)||""===(null==e?null:e.image)),t.xp6(3),t.Oqu(null==e?null:e.full_name),t.xp6(2),t.Oqu(null==e?null:e.user_tag)}}function H(i,c){if(1&i&&(t.ynx(0),t.YNc(1,B,9,4,"ion-item",29),t.BQk()),2&i){const e=c.$implicit,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.full_name!==(null==n.userData?null:n.userData.loginData.full_name)&&e.user_tag!==(null==n.userData?null:n.userData.loginData.user_tag))}}function Y(i,c){if(1&i&&(t.TgZ(0,"ion-list"),t.YNc(1,H,2,1,"ng-container",28),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.filteredTags)}}function E(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-searchbar",27),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.searchTerm=o)})("ionInput",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.filterTag())})("click",function(){t.CHM(e),t.oxw();const o=t.MAs(24);return t.KtG(o.setCurrentBreakpoint(.75))}),t.qZA(),t.YNc(2,Y,2,1,"ion-list",11),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngModel",e.searchTerm),t.xp6(1),t.Q6J("ngIf",(null==e.tagName?null:e.tagName.length)>=1&&e.searchTerm.length>0)}}function z(i,c){if(1&i&&t._UZ(0,"img",51),2&i){const e=t.oxw(2);t.Q6J("src","https://api.veluxpay.com/"+e.userImage,t.LSH)}}function L(i,c){1&i&&t._UZ(0,"img",25)}function Q(i,c){1&i&&t._UZ(0,"img",25)}function G(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-col",48)(1,"ion-button",52),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.initiateT())}),t._UZ(2,"ion-icon",53),t.qZA()()}}function R(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"ion-content")(1,"ion-card",32)(2,"ion-card-header")(3,"ion-toolbar",33)(4,"ion-buttons",31)(5,"ion-button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isModalOpen=!1)}),t._UZ(6,"ion-icon",34),t.qZA()(),t.TgZ(7,"ion-card-title",35),t._uU(8,"Enter PIN code"),t.qZA()()(),t.TgZ(9,"ion-card-content")(10,"div",36)(11,"ion-avatar",37),t.YNc(12,z,1,1,"img",38),t.YNc(13,L,1,0,"img",9),t.YNc(14,Q,1,0,"img",9),t.qZA()(),t.TgZ(15,"div",39)(16,"div",40),t._UZ(17,"ion-input",41),t.qZA(),t.TgZ(18,"div",42),t._UZ(19,"ion-input",43),t.qZA(),t.TgZ(20,"div",44),t._UZ(21,"ion-input",45),t.qZA(),t.TgZ(22,"div",46),t._UZ(23,"ion-input",47),t.qZA()(),t.TgZ(24,"ion-list")(25,"ion-grid",15)(26,"ion-row")(27,"ion-col",48)(28,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("1"))}),t._uU(29,"1"),t.qZA()(),t.TgZ(30,"ion-col",48)(31,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("2"))}),t._uU(32,"2"),t.qZA()(),t.TgZ(33,"ion-col",48)(34,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("3"))}),t._uU(35,"3"),t.qZA()(),t.TgZ(36,"ion-col",48)(37,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("4"))}),t._uU(38,"4"),t.qZA()(),t.TgZ(39,"ion-col",48)(40,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("5"))}),t._uU(41,"5"),t.qZA()(),t.TgZ(42,"ion-col",48)(43,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("6"))}),t._uU(44,"6"),t.qZA()(),t.TgZ(45,"ion-col",48)(46,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("7"))}),t._uU(47,"7"),t.qZA()(),t.TgZ(48,"ion-col",48)(49,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("8"))}),t._uU(50,"8"),t.qZA()(),t.TgZ(51,"ion-col",48)(52,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("9"))}),t._uU(53,"9"),t.qZA()(),t.YNc(54,G,3,0,"ion-col",49),t.TgZ(55,"ion-col",48)(56,"ion-button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.sett("0"))}),t._uU(57,"0"),t.qZA()(),t.TgZ(58,"ion-col",48)(59,"ion-button",50),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back1())}),t._UZ(60,"ion-icon",18),t.qZA()()()()()()()()}if(2&i){const e=t.oxw();t.xp6(12),t.Q6J("ngIf",e.userImage),t.xp6(1),t.Q6J("ngIf",!e.userImage),t.xp6(1),t.Q6J("ngIf",0===e.userImage),t.xp6(3),t.s9C("value",e.pin.substring(0,1)),t.xp6(2),t.s9C("value",e.pin.substring(1,2)),t.xp6(2),t.s9C("value",e.pin.substring(2,3)),t.xp6(2),t.s9C("value",e.pin.substring(3,4)),t.xp6(31),t.Q6J("ngIf",e.bioSe)}}const K=function(){return[0,.25,.5,.75]};let j=(()=>{class i{setOpen(e){"/send"!==this.router.url?this.isModalOpen=!1:(this.isModalOpen=e,this.pin="",this.setFocus())}constructor(e,n,o,r,s,_,m,u,$,V,W,X,tt,et){this.alertController=e,this.router=n,this.loadingCtl=o,this.toastCtl=r,this.loadingCtrl=s,this.formBuilder=_,this.modalCtrl=m,this.bioService=u,this.toastCtrl=$,this.storage=V,this.authService=W,this.toastService=X,this.toastController=tt,this.modalController=et,this.scanActive=!1,this.accounts=[],this.results=[],this.transactions=[],this.isModalOpen=!1,this.qrCodeString="This is a secret qr code message",this.content_visibility="",this.amount="",this.filteredTags=[],this.searchTerm="",this.pin="",this.isLoading=!1,this.type=!0,this.showBalance=!1,this.tagName=[],this.tagNamex=[],this.pin1Color="",setInterval(()=>{console.log("fetching users.....huurraay"),this.getTagname(),this.balance()},45e3)}ngOnInit(){this.here(),this.bioService.fetchPin();const e=localStorage.getItem("userData");e&&(this.userData=JSON.parse(e)),this.getImage(),this.balance(),this.getTagname(),this.getRecentReceiver()}here(){this.bioService.showB()&&(this.bioSe=!0)}presentToaxt(e,n){var o=this;return(0,g.Z)(function*(){(yield o.toastController.create({message:e,duration:2e3,position:"bottom",color:n})).present()})()}getImage(){const e=localStorage.getItem("userImage");e&&(this.userImage=JSON.parse(e))}formatPrice(e){return e.toLocaleString()}balance(){this.getBalance=JSON.parse(localStorage.getItem("balance")),console.log(this.getBalance),this.formattedPrice=this.formatPrice(this.getBalance),console.log(this.formattedPrice)}onTagSelect(e){this.selectedTag=e,console.log(e.full_name),console.log("userSelected"+e.full_name+e.user_tag),this.modalController.dismiss()}filterTag(){console.log(this.filteredTags),Array.isArray(this.tagName)&&(this.filteredTags=this.searchTerm.length>=4?this.tagName.filter(e=>e.user_tag.toLowerCase().includes(this.searchTerm.toLowerCase())):[])}search(e){const n=e.detail.value;console.log(n),""!==n?this.filteredTags=this.tagName.filter(o=>o.includes(n)):this.results=[]}getTagname(){this.authService.getTagnamex().subscribe(e=>{if("Signature verification failed"===e.message&&"/auth-screen"!==this.router.url&&"/tabs/mt"===this.router.url)localStorage.removeItem("userData"),localStorage.removeItem("res"),localStorage.removeItem("accessT"),this.toastController.create(),this.presentToast("Session Expired.....Logging out","danger"),this.router.navigateByUrl("/auth-screen");else{console.log(e),this.tagName=e;for(let o of e)console.log(o.full_name);const n=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")).loginData.user_tag:null;n&&(this.tagName=this.tagName.filter(o=>o.user_tag!==n)),this.filteredTags=[...this.tagName],console.log("Returned Data",e),console.log("Fullnames",e.full_name)}},e=>{"/tabs/mt"===this.router.url&&(this.toastService.showToast("Could not complete your request try again!"),console.error("Could not complete your request try again!",e))})}getRecentReceiver(){this.authService.getRecent().subscribe(e=>{if("Signature verification failed"===e.message&&"/auth-screen"!==this.router.url&&"/send"===this.router.url)localStorage.removeItem("userData"),localStorage.removeItem("res"),localStorage.removeItem("accessT"),this.toastController.create(),this.presentToast("Session Expired.....Logging out","danger"),this.router.navigateByUrl("/auth-screen");else{console.log(e);for(let n of e)console.log(n.full_name)}},e=>{"/send"===this.router.url&&(this.toastService.showToast("Could not complete your request try again!"),console.error("Could not complete your request try again!",e))})}logSelectedTag(e){console.log(e.full_name),console.log("userSelected"+e.full_name+e.user_tag)}searcheed(e){this.authService.getTagname(e.detail.value).subscribe(o=>{this.results=o})}checkPermission(){var e=this;return(0,g.Z)(function*(){try{const n=yield p.mR.checkPermission({force:!0});return!!n.granted||!!n.denied&&(yield(yield e.alertController.create({header:"Access Denied",message:"Allow Access to Camera to enable scan function",buttons:[{text:"No",role:"Cancel"},{text:"Go to Settings",handler:()=>(p.mR.openAppSettings(),!1)}]})).present(),!1)}catch(n){console.log(n)}return!0})()}startScan(){var e=this;return(0,g.Z)(function*(){try{if(!(yield e.checkPermission()))return;e.scanActive=!0,"/send"!==e.router.url&&e.stopScan(),e.scanActive=!0,e.selectedTag={},e.scanActive=!0;const o=document.querySelector("body");e.content_visibility="hidden";const r=yield p.mR.startScan();console.log(r),p.mR.showBackground(),o&&o.classList.remove("scanner-active"),e.content_visibility="",r?.hasContent&&(e.scanActive=!1,e.scannedResult=JSON.parse(r.content),e.selectedTag=e.scannedResult,console.log(JSON.parse(e.scannedResult)),console.log("hello"+e.scannedResult.user_tag),console.log("Heyyhoo",e.scannedResult.user_tag),console.log("Holdup",e.scannedResult.user_tag))}catch(n){console.log(n)}})()}stopScan(){this.scanActive=!1,p.mR.showBackground(),p.mR.stopScan(),document.querySelector("body").classList.remove("scanner-active"),this.content_visibility=""}ngOnDestroy(){this.stopScan()}set(e){console.log(e),this.amount+=e}clear(){this.inputField.value=""}back(){this.amount=this.amount.slice(0,-1)}setFocus(){const e=document.body.classList.contains("dark")?"dark":"light";for(let o=1;o<=4;o++){const r=document.getElementById("pin"+o);r&&("dark"===e?o<=this.pin.length?(console.log("dark"),r.style.background="var(--ion-color-warning)"):r.style.background="var(--ion-color-white)":r.style.background=o<=this.pin.length?"var(--ion-color-dark)":"var(--ion-color-light)")}document.querySelector(".numberBox").style.background="var(--ion-color-base)"}clear1(){this.pin="",this.setFocus()}back1(){this.pin=this.pin.slice(0,-1),this.setFocus()}presentLoading(e,n){var o=this;return(0,g.Z)(function*(){yield(yield o.loadingCtl.create({message:e,spinner:n})).present()})()}presentToast(e,n){var o=this;return(0,g.Z)(function*(){(yield o.toastCtl.create({message:e,color:n,duration:1e3,position:"bottom"})).present()})()}changeType(){this.type=!this.type}showLoader(e){return this.isLoading||(this.isLoading=!0),this.loadingCtrl.create({message:e,spinner:"bubbles"}).then(n=>{n.present().then(()=>{this.isLoading||n.dismiss().then(()=>{console.log("abort presenting")})})}).catch(n=>{this.isLoading=!1,console.log(n)})}hideLoader(){return this.isLoading&&(this.isLoading=!1),this.loadingCtrl.dismiss().then(()=>console.log("dismissed")).catch(e=>console.log(e))}showToastx(e){var n=this;return(0,g.Z)(function*(){(yield n.toastCtrl.create({message:e,duration:2e3,color:"success"})).present()})()}presentSendAlert(e,n,o,r){var s=this;return(0,g.Z)(function*(){let _,m;switch(e){case"Transaction successful":_=`Successfully sent ${n} to Velux user @${s.selectedTag.user_tag}.`,m="assets/images/success-img.png";break;case"insufficient fund":_=`Your request to send \u20a6${n} to @${s.selectedTag.user_tag} could not be completed due to insufficient funds in your account.`,m="assets/imgs/failed.png";break;case"failed":_="Sorry!! <br> We could not complete your request at this time, Please enter an amount greater than \u20a650.",m="assets/imgs/less.png";break;default:_="An unknown error occurred!!<br>Please try again later",m="assets/imgs/less.png"}s.header=o||"Transaction Status",s.status=e||"Unknown",s.amount=n||"50",s.message=_,yield(yield s.modalController.create({component:C.d,componentProps:{header:s.header,status:s.status,amount:s.amount,message:s.message,imgSrc:m,subHeader:r},cssClass:"transaction-modal"})).present()})()}checkPin(e){var n=this;this.pin=e,setTimeout(()=>{if(this.loadingCtl.dismiss(),4===this.pin.length){console.log(this.pin);const o={transferPin:this.pin};console.log("I am "+o),this.authService.checkPin(o).subscribe(function(){var r=(0,g.Z)(function*(s){if(console.log(s),"correct pin"===s){yield n.toastCtrl.create({message:"Pin is Valid.",duration:3e3,position:"bottom"}),n.loadingCtl.dismiss(),n.hideLoader(),n.modalCtrl.dismiss(s),n.presentLoading("Processing...","circular"),n.isModalOpen=!1;const m={amount:n.amount,tagname:n.selectedTag.user_tag};console.log(m),n.authService.payVeluxite(m).subscribe(u=>{console.log(JSON.stringify(u)),console.log(u.message),"Signature verification failed"===u.message&&"/auth-screen"!==n.router.url&&"/send"===n.router.url?(localStorage.removeItem("userData"),localStorage.removeItem("res"),localStorage.removeItem("accessT"),n.toastController.create(),n.presentToast("Session Expired.....Logging out","danger"),n.router.navigateByUrl("/auth-screen")):(console.log("here"),"insufficient fund"===u.message?(console.log("Hello mate"+u.message),n.toastController.create(),n.presentToast(u.message+"s, Please fund your account and try again","danger"),n.presentSendAlert(u.message,` \u20a6${m.amount}`,"Incomplete Transaction"),n.loadingCtrl.dismiss()):"the amount is too small "===u.message?(n.toastController.create(),n.presentToast(u.message,"danger"),n.presentSendAlert("failed",` \u20a6${m.amount}`,"Transaction Failed"),console.log("Cameth hereAmount"),n.loadingCtrl.dismiss()):"Transaction successful"===u.message?(n.toastController.create(),n.presentToast(u.message,"success"),n.presentSendAlert("Transaction successful",` \u20a6${m.amount}`,"Transaction Successful"),console.log("Cameth here"),n.loadingCtrl.dismiss()):(n.toastController.create(),n.presentToast(u.message,"danger"),n.router.navigateByUrl("/tabs"),n.loadingCtrl.dismiss()),console.log("I reach here"),n.loadingCtrl.dismiss())},u=>{console.error(u),console.log("Error found here"),n.loadingCtl.dismiss(),n.isModalOpen=!1}),n.loadingCtrl.dismiss()}else n.isModalOpen=!1,(yield n.toastCtrl.create({message:"Invalid User Pin. Please try again.",duration:2e3,position:"bottom",color:"danger"})).present(),console.log("Hello Dickson"),n.loadingCtrl.dismiss(),n.hideLoader(),n.modalCtrl.dismiss(o),console.log("I am here"),n.loadingCtrl.dismiss(),n.isModalOpen=!1});return function(s){return r.apply(this,arguments)}}(),function(){var r=(0,g.Z)(function*(s){console.log(s),(yield n.toastCtrl.create({message:"Invalid User Pin. Please try again.",duration:2e3,position:"bottom",color:"danger"})).present(),n.hideLoader(),n.modalCtrl.dismiss(o),n.loadingCtl.dismiss(),n.isModalOpen=!1});return function(s){return r.apply(this,arguments)}}())}},2e3),this.loadingCtl.dismiss()}sett(e){this.pin+=e,this.setFocus(),4==this.pin.length&&(this.presentLoading("Validating...","crescent"),this.checkPin(this.pin))}initiateT(){this.bioService.initiateTransfer()}book(){this.router.navigateByUrl("/bat")}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(a.Br),t.Y36(P.F0),t.Y36(a.HT),t.Y36(a.yF),t.Y36(a.HT),t.Y36(h.qu),t.Y36(a.IN),t.Y36(y),t.Y36(a.yF),t.Y36(v.yW),t.Y36(M.e),t.Y36(S.k),t.Y36(a.yF),t.Y36(a.IN))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-send"]],viewQuery:function(n,o){if(1&n&&t.Gf(Z,7),2&n){let r;t.iGM(r=t.CRH())&&(o.selectedTagText=r.first)}},standalone:!0,features:[t.jDz],decls:71,vars:18,consts:[["defaultHref","/tabs"],["size","large","slot","end","name","scan-sharp",1,"scan",3,"click"],[1,"ion-text-center","ion-padding",2,"box-shadow","none"],["style","font-weight: bold; font-size: 0.9rem",4,"ngIf"],["lines","none","text-wrap","",1,"item"],["readonly","","min","50","type","4444",1,"cp",3,"ngModel","ngModelChange"],["lines","none","id","open-modalSend",3,"inset"],["slot","start",1,"user-icon"],[3,"src",4,"ngIf"],["src","assets/images/avatar.png","alt","Dummy Image",4,"ngIf"],["name","person-circle",4,"ngIf"],[4,"ngIf"],["slot","end","name","pencil-outline",1,"p"],["trigger","open-modalSend",3,"initialBreakpoint","breakpoints"],["modal",""],[1,"buttons","ion-padding"],["size","4",1,"digits"],["fill","clear",1,"button",3,"click"],["name","backspace"],["shape","block","color","warning",1,"sendB",3,"disabled","click"],["color","white",2,"font-weight","bold"],[2,"text-align","center","font-size","1rem","font-weight","bold","color","#b7b7b7",3,"click"],[3,"isOpen"],[2,"font-weight","bold","font-size","0.9rem"],[3,"src"],["src","assets/images/avatar.png","alt","Dummy Image"],["name","person-circle"],["placeholder","Search user tagname",3,"ngModel","ngModelChange","ionInput","click"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],["slot","start"],[1,"ion-text-center","ion-no-margin",2,"box-shadow","none"],[2,"box-shadow","none"],["slot","icon-only","name","arrow-back"],["mode","ios",1,"tit"],["align","center"],[1,"avatar-large"],["alt","",3,"src",4,"ngIf"],[1,"numberBox"],["id","pin1",1,"ion-text-center","ion-padding"],["type","password","id","pin1","readonly","","autocomplete","off",1,"ion-text-center","ion-padding",3,"value"],["id","pin2",1,"ion-text-center","ion-padding"],["type","password","id","pin2","readonly","","autocomplete","off",1,"ion-text-center","ion-padding",3,"value"],["id","pin3",1,"ion-text-center","ion-padding"],["type","password","id","pin3","readonly","","autocomplete","off",1,"ion-text-center","ion-padding",3,"value"],["id","pin4",1,"ion-text-center","ion-padding"],["type","password","id","pin4","readonly","","autocomplete","off",1,"ion-text-center","ion-padding",3,"value"],["size","4",1,"digitx"],["class","digitx","size","4",4,"ngIf"],["fill","clear","expand","block","size","large",1,"button",3,"click"],["alt","",3,"src"],["expand","block","size","large","color","white",3,"click"],["slot","icon-only","name","finger-print","color","warning"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons"),t._UZ(3,"ion-back-button",0),t.qZA(),t.TgZ(4,"ion-icon",1),t.NdJ("click",function(){return o.startScan()}),t.qZA()()(),t.TgZ(5,"ion-content")(6,"ion-card",2)(7,"ion-card-content"),t.YNc(8,O,2,1,"ion-text",3),t.YNc(9,k,2,0,"ion-text",3),t.TgZ(10,"ion-item",4)(11,"ion-input",5),t.NdJ("ngModelChange",function(s){return"\u20a6 "+(o.amount=s)}),t.qZA()()()(),t.TgZ(12,"ion-item",6)(13,"ion-avatar",7),t.YNc(14,A,1,1,"ion-img",8),t.YNc(15,I,1,0,"ion-img",9),t.YNc(16,w,1,0,"ion-icon",10),t.qZA(),t.TgZ(17,"ion-label"),t.YNc(18,N,2,0,"ion-text",11),t.YNc(19,U,2,1,"ion-text",11),t.YNc(20,J,1,0,"br",11),t.YNc(21,q,2,1,"ion-note",11),t.qZA(),t._UZ(22,"ion-icon",12),t.qZA(),t.TgZ(23,"ion-modal",13,14),t.YNc(25,E,3,2,"ng-template"),t.qZA(),t.TgZ(26,"ion-list")(27,"ion-grid",15)(28,"ion-row")(29,"ion-col",16)(30,"ion-button",17),t.NdJ("click",function(){return o.set("1")}),t._uU(31,"1"),t.qZA()(),t.TgZ(32,"ion-col",16)(33,"ion-button",17),t.NdJ("click",function(){return o.set("2")}),t._uU(34,"2"),t.qZA()(),t.TgZ(35,"ion-col",16)(36,"ion-button",17),t.NdJ("click",function(){return o.set("3")}),t._uU(37,"3"),t.qZA()(),t.TgZ(38,"ion-col",16)(39,"ion-button",17),t.NdJ("click",function(){return o.set("4")}),t._uU(40,"4"),t.qZA()(),t.TgZ(41,"ion-col",16)(42,"ion-button",17),t.NdJ("click",function(){return o.set("5")}),t._uU(43,"5"),t.qZA()(),t.TgZ(44,"ion-col",16)(45,"ion-button",17),t.NdJ("click",function(){return o.set("6")}),t._uU(46,"6"),t.qZA()(),t.TgZ(47,"ion-col",16)(48,"ion-button",17),t.NdJ("click",function(){return o.set("7")}),t._uU(49,"7"),t.qZA()(),t.TgZ(50,"ion-col",16)(51,"ion-button",17),t.NdJ("click",function(){return o.set("8")}),t._uU(52,"8"),t.qZA()(),t.TgZ(53,"ion-col",16)(54,"ion-button",17),t.NdJ("click",function(){return o.set("9")}),t._uU(55,"9"),t.qZA()(),t._UZ(56,"ion-col",16),t.TgZ(57,"ion-col",16)(58,"ion-button",17),t.NdJ("click",function(){return o.set("0")}),t._uU(59,"0"),t.qZA()(),t.TgZ(60,"ion-col",16)(61,"ion-button",17),t.NdJ("click",function(){return o.back()}),t._UZ(62,"ion-icon",18),t.qZA()()()()(),t.TgZ(63,"ion-button",19),t.NdJ("click",function(){return o.setOpen(!0)}),t.TgZ(64,"ion-text",20),t._uU(65,"SEND"),t.qZA()(),t.TgZ(66,"p",21),t.NdJ("click",function(){return o.book()}),t.TgZ(67,"ion-text"),t._uU(68,"Book A Transaction"),t.qZA()(),t.TgZ(69,"ion-modal",22),t.YNc(70,R,61,8,"ng-template"),t.qZA()()),2&n&&(t.xp6(5),t.Udp("visibility",o.content_visibility),t.xp6(3),t.Q6J("ngIf",o.formattedPrice),t.xp6(1),t.Q6J("ngIf",!o.formattedPrice),t.xp6(2),t.Q6J("ngModel","\u20a6 "+o.amount),t.xp6(1),t.Q6J("inset",!0),t.xp6(2),t.Q6J("ngIf",o.selectedTag&&"0"!==o.selectedTag.image&&null!=o.selectedTag.image&&""!==o.selectedTag.image),t.xp6(1),t.Q6J("ngIf",o.selectedTag&&("0"===o.selectedTag.image||null==o.selectedTag.image||""===o.selectedTag.image)),t.xp6(1),t.Q6J("ngIf",!o.selectedTag),t.xp6(2),t.Q6J("ngIf",!o.selectedTag),t.xp6(1),t.Q6J("ngIf",o.selectedTag),t.xp6(1),t.Q6J("ngIf",o.selectedTag),t.xp6(1),t.Q6J("ngIf",o.selectedTag),t.xp6(2),t.Q6J("initialBreakpoint",.25)("breakpoints",t.DdM(17,K)),t.xp6(40),t.Q6J("disabled",!o.amount||!o.selectedTag),t.xp6(6),t.Q6J("isOpen",o.isModalOpen))},dependencies:[f.ez,f.sg,f.O5,h.u5,h.JJ,h.On,a.Pc,a.BJ,a.YG,a.Sm,a.PM,a.FN,a.Zi,a.Dq,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Xz,a.pK,a.Ie,a.Q$,a.q_,a.uN,a.Nd,a.VI,a.yW,a.sr,a.ki,a.j9,a.oU],styles:['ion-content[_ngcontent-%COMP%]{height:max-content}ion-content[_ngcontent-%COMP%]   body.scanner-active[_ngcontent-%COMP%]{--background: transparent;--ion-background-color: transparent}ion-content[_ngcontent-%COMP%]   .scan-box[_ngcontent-%COMP%]{border:2px solid #fff;box-shadow:808 100vmax #00000080;content:"";display:block;left:50%;height:300px;position:absolute;top:50%;transform:translate(-50%,-50%);width:300px}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{--box-shadow: none}ion-content[_ngcontent-%COMP%]   ion-item.invalid[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--border-color: var(--ion-color-danger)}ion-content[_ngcontent-%COMP%]   ion-item.valid[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--border-color: var(--ion-color-success)}ion-content[_ngcontent-%COMP%]   .validation-message[_ngcontent-%COMP%]{font-size:.8rem;color:var(--ion-color-danger);margin-top:.2rem}ion-content[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{font-size:.75em!important}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{background-color:inherit;border:none;background:transparent}ion-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{bottom:0}ion-content[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:65%;border:none;box-shadow:none;outline:none;box-shadow:none #fff;padding:4px 0 0 4px;font-weight:700}ion-content[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{background:transparent;background-color:inherit;color:var(--ion-color-base);border:none;font-size:40px;width:100%;font-weight:700}ion-content[_ngcontent-%COMP%]   .scanner[_ngcontent-%COMP%]{border:2px solid red}ion-content[_ngcontent-%COMP%]   .extend[_ngcontent-%COMP%]{margin-right:25%;margin-left:25%}ion-content[_ngcontent-%COMP%]   .sendB[_ngcontent-%COMP%]{height:6%;margin:5% 10% 5px;--border-radius: 50px}ion-content[_ngcontent-%COMP%]   .scan[_ngcontent-%COMP%]{justify-content:flex-end;margin-left:auto;position:absolute;right:0}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]{position:relative;padding:.5rem;height:auto;border-radius:2.5rem;margin:6vh 1rem 0 1rem}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]   swiper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.acc-amt[_ngcontent-%COMP%]{margin:1rem 0;font-size:2.2rem;font-weight:700}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]:after{content:"";position:justify;background:inherit;border-radius:2.5rem;border:2px solid transparent}ion-card[_ngcontent-%COMP%]{margin-top:1%;margin-right:1%;margin-left:1%}ion-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:2rem}ion-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{border-radius:50%;border:1px solid var(--ion-color-tertiary);height:4.5rem;width:4.5rem}ion-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:transparent;font-weight:700;font-size:1.1rem;margin-bottom:1rem;margin-top:.5rem}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-bottom: 2%;--padding-start: 0;--padding-end: 0}ion-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{margin-right:-.6rem}ion-card[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--background-checked: #7E219E}.pinL[_ngcontent-%COMP%]{height:100vh;min-height:max-content;display:flex;flex-direction:column;justify-content:space-around}.container[_ngcontent-%COMP%]{position:absolute}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:3px}.buttons[_ngcontent-%COMP%]   .pinB[_ngcontent-%COMP%]{width:35%;border:none;display:flex;justify-content:space-between;box-shadow:none;color:var(--ion-color-base);outline:none;box-shadow:none #fff;padding:4px 0 0 4px;font-weight:200}ion-alert.custom-alert[_ngcontent-%COMP%]{--backdrop-opacity: .7}.avatar-large[_ngcontent-%COMP%]{width:140px;height:80px;--border-radius: 50%;right:24.36%;top:13.63%;bottom:62.68%}.rounded-input[_ngcontent-%COMP%]{border-radius:560px;background-color:#fff}.input-row[_ngcontent-%COMP%]{background-color:inherit;display:flex;justify-content:space-between;align-items:center}.numberBox[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center;justify-content:center}.numberBox[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:105%;background-color:#f0f0f0;margin:20px;align-self:center}.numberBox[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{margin-bottom:5px;color:var(--ion-color-base);font-size:20px;font-weight:500!important;align-items:center;justify-content:center;text-align:center}.circular-input[_ngcontent-%COMP%]{border-radius:50px;border:none;background-color:#f2f2f2;padding:10px 20px;margin-bottom:10px;color:#333}.trimm[_ngcontent-%COMP%]{height:10px}.tit[_ngcontent-%COMP%]{font-style:normal;font-weight:500;font-size:20px}.custom-alert[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{padding:8px}button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{background-color:var(--ion-color-success);color:var(--ion-color-success-contrast)}.md[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-radius:4px}.ios[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   button.alert-button[_ngcontent-%COMP%]{border:.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0),.2)}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-cancel[_ngcontent-%COMP%]{border-right:0;border-bottom-left-radius:13px;border-top-left-radius:13px}.ios[_ngcontent-%COMP%]   button.alert-button.alert-button-confirm[_ngcontent-%COMP%]{border-bottom-right-radius:13px;border-top-right-radius:13px}.purple-button[_ngcontent-%COMP%]{background-color:inherit;color:#fff}.digits[_ngcontent-%COMP%]{text-align:center}.digits[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:1.2rem}.digitx[_ngcontent-%COMP%]{text-align:center;margin-bottom:7vh}.digitx[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:1.2rem}.user-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']})}return i})()}}]);