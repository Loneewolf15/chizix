"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7393],{7393:(A,l,i)=>{i.r(l),i.d(l,{ReceivesPage:()=>v});var s=i(5861),d=i(5432),g=i(2726),P=i(6814),_=i(95),r=i(8606),O=i(2839),n=i(6689),M=i(5472),h=i(1517),m=i(9862),p=i(1725),u=i(9140),b=i(7911);const{Clipboardx:C}=g.Plugins;g.dV.isPluginAvailable("Clipboard");let v=(()=>{class c{constructor(e,t,o,a,f,E,D,x,T,y,U,R,I,L){this.navCtrl=e,this.authService=t,this.http=o,this.loadingCtrl=a,this.loadingController=f,this.formBuilder=E,this.router=D,this.modalCtrl=x,this.modalController=T,this.toastCtrl=y,this.toastController=U,this.storage=R,this.toastService=I,this.alertController=L,this.text="",this.qrCodeString="This is a secret qr code message",this.fetchQRCodeData(this.qrCodeData)}writeToClipboard(e){var t=this;return(0,s.Z)(function*(){try{yield d.T.write({string:e}),console.log("Text copied to clipboard"),(yield t.toastController.create({message:"Tagname Copied to clipboard "+e,duration:2e3})).present()}catch(o){console.error("Error copying text to clipboard: ",o),(yield t.toastController.create({message:"Could not copy Tagname to clipboard",duration:2e3})).present()}})()}copied(e){C.write({string:e}).then(()=>{alert("Text copied"),e=""})}presentToast(e,t){var o=this;return(0,s.Z)(function*(){(yield o.toastController.create({message:e,duration:2e3,position:"bottom",color:t})).present()})()}copyT(e){var t=this;return(0,s.Z)(function*(){try{yield C.write({string:e}),console.log("Text copied to clipboard"),(yield t.toastController.create({message:"Tagname Copied to clipboard",duration:2e3})).present()}catch(o){console.error("Error copying text to clipboard: ",o),(yield t.toastController.create({message:"Could not copy Tagname to clipboard",duration:2e3})).present()}})()}fetchQRCodeData(e){this.authService.getQrCode().subscribe(t=>{"Signature verification failed"===t.message&&"/auth-screen"!==this.router.url?(localStorage.removeItem("userData"),localStorage.removeItem("res"),localStorage.removeItem("accessT"),this.toastController.create(),this.presentToast("Session Expired.....Logging out","danger"),this.router.navigateByUrl("/auth-screen")):(console.log(t),this.qrCodeUrl=t,O.toDataURL(JSON.stringify(this.qrCodeUrl),{errorCorrectionLevel:"M"},(o,a)=>{o?console.error("Error generating QR code:",o):(this.qrCodeDataUrl=a,console.log(this.qrCodeDataUrl))}))},t=>{console.error(t),console.log("Error Generating QrCode, Check your internet connection and try again or Proceed to use the tag namery!")})}ngOnInit(){const e=localStorage.getItem("userData");e&&(this.userData=JSON.parse(e))}static#n=this.\u0275fac=function(t){return new(t||c)(n.Y36(M.SH),n.Y36(h.e),n.Y36(m.eN),n.Y36(r.HT),n.Y36(r.HT),n.Y36(_.qu),n.Y36(p.F0),n.Y36(r.IN),n.Y36(r.IN),n.Y36(r.yF),n.Y36(r.yF),n.Y36(u.yW),n.Y36(b.k),n.Y36(r.Br))};static#t=this.\u0275cmp=n.Xpm({type:c,selectors:[["app-receives"]],standalone:!0,features:[n.jDz],decls:10,vars:2,consts:[[1,"ion-text-center","ion-margin"],["defaultHref","/tabs"],["size","572","alt","QR code",1,"qrCode",3,"src"],["width","70px","color","light-tint",1,"ion-margin",3,"click"],["name","copy","slot","end"]],template:function(t,o){1&t&&(n.TgZ(0,"ion-content")(1,"ion-card",0)(2,"ion-card-header")(3,"ion-buttons"),n._UZ(4,"ion-back-button",1),n.qZA()(),n.TgZ(5,"ion-card-content"),n._UZ(6,"img",2),n.TgZ(7,"ion-button",3),n.NdJ("click",function(){return o.writeToClipboard(null==o.userData?null:o.userData.loginData.user_tag)}),n._uU(8),n._UZ(9,"ion-icon",4),n.qZA()()()()),2&t&&(n.xp6(6),n.Q6J("src",o.qrCodeDataUrl,n.LSH),n.xp6(2),n.hij(" @",null==o.userData?null:o.userData.loginData.user_tag," "))},dependencies:[P.ez,_.u5,r.Pc,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.W2,r.gu,r.oU],styles:['ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{max-width:40vh}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1rem}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{font-size:1.3rem!important}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{height:2.5rem;width:2.5rem;border:1px solid var(--ion-color-tertiary)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}ion-content[_ngcontent-%COMP%]   ion-menu-button[_ngcontent-%COMP%]{margin-left:90%}ion-content[_ngcontent-%COMP%]   ion-menu[_ngcontent-%COMP%]::part(backdrop){background-color:#ff00ff80}ion-content[_ngcontent-%COMP%]   ion-menu[_ngcontent-%COMP%]::part(container){box-shadow:4px 0 16px #ff00ff2e}ion-content[_ngcontent-%COMP%]   ion-datetime-button[_ngcontent-%COMP%]{--ion-background-color:transparent;box-shadow:none!important}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]{position:relative;padding:.5rem;height:auto;margin:6vh 1rem 0 1rem}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]   swiper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p.acc-amt[_ngcontent-%COMP%]{margin:1rem 0;font-size:2.2rem;font-weight:700}ion-content[_ngcontent-%COMP%]   img.qr-code[_ngcontent-%COMP%]{max-width:300px;max-height:300px}ion-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}ion-content[_ngcontent-%COMP%]   img.qrCode[_ngcontent-%COMP%]{position:center;max-width:50%;max-height:15%}ion-content[_ngcontent-%COMP%]   img.qr-code[_ngcontent-%COMP%]{border:2px solid black}ion-content[_ngcontent-%COMP%]   img.qr-code[_ngcontent-%COMP%]{background-color:#f2f2f2}ion-content[_ngcontent-%COMP%]   img.qr-code[_ngcontent-%COMP%]{display:block;margin:0 auto}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;color:var(--ion-color-base);transform:translateZ(0);transition:box-shadow .3s,transform .3s}ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{box-shadow:0 8px 16px #0003;transform:translate3d(0,-2px,0);color:var(--ion-color-base)}ion-content[_ngcontent-%COMP%]   ion-row.banners[_ngcontent-%COMP%]:after{content:"";position:justify;background:#7E219E;border:2px solid transparent}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]{background:var(--ion-color-secondary)}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{padding-inline-start:3.5vh}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1.1rem}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]{padding:0 3.5vh}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{font-weight:700;--background: transparent;--border-style: dashed;--border-color: var(--ion-color-tertiary);--padding-bottom: 1rem;--padding-top: 1rem;--padding-start: 0}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-text[slot=end][_ngcontent-%COMP%]{font-size:1rem}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;font-weight:400;margin-top:3px}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{height:6vh;width:6vh;border-radius:10px;background:var(--ion-color-white);box-shadow:0 3px 6px #03b5aa0a}ion-content[_ngcontent-%COMP%]   ion-list.transactions[_ngcontent-%COMP%]   ion-item-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:4vh;width:4vh;transform:translateY(25%)}']})}return c})()}}]);