
<form [formGroup]="form" class="ion-margin"> 
  <div class="ion-margin-vertical">
    <ion-item lines="true">
      <ion-input label="Email/Tag" label-placement="floating" autocomplete="email" [counter]="true" minlength="4" [counterFormatter]="customCounterFormatterE" errorText="* Please enter email or tag" formControlName="email" type="email" placeholder="Enter user tag"></ion-input>
    </ion-item>
  </div>

  <div class="ion-no-margin">
    <ion-item lines="none">
      <ion-icon 
        [name]="type ? 'eye' : 'eye-off'" 
        slot="end" 
        color="warning" 
        (click)="changeType()">
      </ion-icon>
      <ion-input label="Password" label-placement="floating" autocomplete="password" errorText="form.get('password')!.hasError('minlength') ? '*Minimum of 6 characters' : '* Please enter your password' " formControlName="password" [type]="type ? 'password' : 'text'" 
        placeholder="Enter password" [counter]="true" minlength="6" [counterFormatter]="customCounterFormatter"></ion-input>
    </ion-item>
  </div>
</form>

<div class="ion-margin-horizontal">
<ion-grid>
  <ion-row>
    <ion-col size-sm="3" >
      <p class="ion-text-right ion-no-margin forgotpass" id="open-modalx">
        <ion-text color="warning"> Forgot password?</ion-text>
      </p>
    </ion-col>
  </ion-row>
</ion-grid>
</div>

<ion-modal class="ion-modal" trigger="open-modalx" [initialBreakpoint]="1" [breakpoints]="[0, 1]">
  <ng-template > 
    <h2 class="blockx ion-text-center">Reset Password</h2>

    <div *ngIf="!showForgotPassForm">
    <form [formGroup]="emailForm" class="ion-margin">
      <div class="ion-margin-vertical">
        <ion-item lines="none">
          <ion-input label="Email" label-placement="floating" autocomplete="email" [counter]="true" [(ngModel)]="sendData.email" minlength="4" [counterFormatter]="customCounterFormatterE" errorText="* Please enter registered email" formControlName="emailx" type="text" name="emailx" placeholder="Enter registered email"></ion-input>
        </ion-item>
      </div>
    
      
      <ion-button
      class="logIn"
       size="warning" 
       expand="block" 
       shape="round" 
       color="warning"
       (click)="resetP()">
       <ion-text>Reset Password</ion-text>
     </ion-button>
    </form> 
  </div>
   
  <div *ngIf="showForgotPassForm">
    <form [formGroup]="form1" class="ion-margin">

      
      <div class="ion-margin-vertical">
            
        <ion-input label="OTP:" fill="outline" [counter]="true" label-placement="floating"  [(ngModel)]="sendData2.otp" maxlength="6" minlength="6" [counterFormatter]="customCounterFormatterE" errorText="* Please enter OTP from mail." formControlName="otp" type="text" ></ion-input>
      
     
      </div>
    
      

      <div class="ion-margin-vertical">
            
        <ion-input label="Password:" fill="outline" [counter]="true" label-placement="floating"  [(ngModel)]="sendData2.password" maxlength="12" minlength="6" [counterFormatter]="customCounterFormatterE" errorText="* Please enter your new password." formControlName="password" type="password" ></ion-input>
      
     
      </div>
    
      
    
      <div class="ion-margin-vertical">
        
          <ion-input label="Confirm Password:"  fill="outline" [counter]="true" [(ngModel)]="sendData2.cpassword" label-placement="floating" maxlength="12" minlength="6" [counterFormatter]="customCounterFormatterE" errorText="* Please confirm your preferred new password" formControlName="cpassword" type="password" ></ion-input>
    
    
      </div>
    

  
      <ion-button
      class="logIn"
       size="medium" 
       expand="block" 
       shape="round" 
       color="warning"
       (click)="resetPx()">
       <ion-text>Change Password</ion-text>
     </ion-button>
    </form>
    </div>
  </ng-template>
</ion-modal>




<ion-button 
*ngIf="!bioS"
class="submit"
 size="large" 
 expand="block" 
 shape="round" 
 color="warning"
 (click)="loginfunc()" [disabled]="form.invalid">
 <ion-text>Log In</ion-text>
</ion-button>

       
    <!-- verify face id -->
    <ion-row *ngIf="bioS" class="ion-margin authorize">
      <ion-col size="9">
        <ion-button
        class="faceid"
         size="large" 
         expand="block" 
         shape="round" 
         color="warning"
         (click)="loginfunc()" [disabled]="form.invalid">
         <ion-text>Log In</ion-text>
       </ion-button>
      </ion-col>
      <ion-col size="3">
        <ion-button
          expand="block"
          size="large"
          color="white"
          (click)="performBiometricVerification()"
        >
        <ion-icon slot="icon-only" name="finger-print" color="warning"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>




<div class="ion-footer ion-text-center ion-no-margin ion-padding-horizontal">
  <!-- <span>Don't have an account? <a href="/register" color="medium" class="ion-no-padding">Sign up</a></span> -->
  <span>Don't have an account? <ion-text  fill="clear" color="white" (click)="register()">Sign up</ion-text></span>
  </div>  